<!DOCTYPE html>
<html>
	<head>
		<title>Hello world</title>
		
		<style>
			body {
				background-color: #F0F0F0;
			}
		</style>
	</head>
	<body>
		<header>
			<h1>Hello, world!</h1>
		</header>

		<button id="editFile"> 
			Edit File
		</button>
		<button id="readFile">
			Read File
		</button>

		<br />
		<select id="files">

		</select>

		<div id="output">
		</div>

		<script src="/socket.io/socket.io.js"></script>
		<script src="http://code.jquery.com/jquery-1.11.1.js"></script>
		<script>
			$(document).ready(function() {
				var socket = io.connect();

				socket.on('connect', function() {
					$('#output').html("Connected");
				});
				socket.on('disconnect', function() {
					$('#output').html("Disconnected");
				});
				socket.on('error', function(err) {
					$('#output').html(err);
				});
				socket.on('successfulConnection', function(id) { 
                                       	$('#output').html('Socket ID: ' + id);
					
					socket.emit('getAvailableFiles', function(names) {
						for (i = 0; i < names.length; i++) {
							$('#files').append('<option value="' + names[i] + '">' + names[i] + '</option>');
						}
				        });
				});
				
				$('#editFile').click(function() {
					//TODO: Add appropriate url cmd.
					window.location.href = '/files/' + $('#files').val();
				});
				$('#readFile').click(function() {
					window.location.href = '/files/' + $('#files').val();
				});
			});
		</script>
	</body>
</html>
